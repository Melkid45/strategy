window.addEventListener("load",(function(){setTimeout((function(){ScrollTrigger.refresh(!0),console.log("ScrollTrigger refreshed")}),2e3)})),window.addEventListener("resize",(function(){setTimeout((function(){ScrollTrigger.refresh(!0)}),500)})),ScrollTrigger.normalizeScroll(!0),gsap.ticker.lagSmoothing(0),ScrollTrigger.config({limitCallbacks:!0,ignoreMobileResize:!0,autoRefreshEvents:"visibilitychange,DOMContentLoaded,load"});const lenis=new Lenis({duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),smoothWheel:!0,smoothTouch:!1,touchMultiplier:2,infinite:!1,autoRaf:!1});function raf(e){lenis.raf(e),requestAnimationFrame(raf)}requestAnimationFrame(raf);class ScrollManager{constructor(){this.isLenisAvailable=!1,this.init()}init(){this.checkLenis(),window.addEventListener("load",(()=>{this.scrollToTop()}))}checkLenis(){return!(void 0===lenis||!lenis.scrollTo)&&(this.isLenisAvailable=!0,!0)}scrollToTop(){if(this.checkLenis())try{ScrollTrigger.getAll().forEach((e=>e.disable())),lenis.scrollTo(0,{immediate:!0,lock:!1,onComplete:()=>{this.enableScrollTriggers()}}),setTimeout((()=>{lenis.scroll>10&&lenis.scrollTo(0,{immediate:!0,onComplete:()=>this.enableScrollTriggers()})}),100)}catch(e){console.warn("Lenis scroll failed, using native scroll"),window.scrollTo(0,0),this.enableScrollTriggers()}else window.scrollTo(0,0),this.enableScrollTriggers()}enableScrollTriggers(){setTimeout((()=>{ScrollTrigger.getAll().forEach((e=>e.enable())),ScrollTrigger.refresh()}),50)}}new ScrollManager;let lastScrollTop=0,isScrollingDown=!1;const scrollThreshold=5,activationThreshold=50;lenis.on("scroll",(({scroll:e})=>{ScrollTrigger.update(),currentScroll=e;const t=document.querySelector(".header");Math.abs(currentScroll-lastScrollTop)>5&&(isScrollingDown=currentScroll>lastScrollTop,lastScrollTop=currentScroll),isScrollingDown&&currentScroll>50?t.classList.add("back"):t.classList.remove("back")}));let isReady=!1;function initAnchorLinks(){document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(t=>{if(t.preventDefault(),!isReady)return void console.warn("⛔ Якоря пока не готовы — ждем инициализацию Lenis/GSAP");const i=e.getAttribute("href");if(!i||"#"===i)return;const n=document.querySelector(i);n&&(ScrollTrigger.refresh(!0),requestAnimationFrame((()=>{const e=n.parentNode;let t=n;if(e.classList.contains("pin-spacer")){const i=e.previousElementSibling;if(i){const e=i.clientHeight||0;t=i.offsetTop+e}}lenis.scrollTo(t,{lerp:.1,duration:6}),setTimeout((()=>{ScrollTrigger.refresh(!0)}),500)})))}))}))}function updateScrollDelayed(){gsap.delayedCall(.35,(()=>{"undefined"!=typeof ScrollTrigger&&ScrollTrigger.refresh(!0),void 0!==lenis&&("function"==typeof lenis.resize&&lenis.resize(),lenis.scrollTo(lenis.scroll,{immediate:!0})),window.dispatchEvent(new Event("resize"))}))}function handleAccordionClick(e){const t=e.siblings(".item"),i=e.hasClass("open");t.removeClass("open"),i?e.removeClass("open"):e.addClass("open"),updateScrollDelayed()}function updateMarqueeAnimation(e,t){if(!e||!e.firstElementChild)return;const i=e.firstElementChild.scrollWidth,n=e.offsetWidth,s=-(i+(parseFloat(getComputedStyle(e).gap)||0))/n*100,o=`dynamic-marquee-${t}`;let a=document.getElementById(o);a||(a=document.createElement("style"),a.id=o,document.head.appendChild(a)),a.innerHTML=`\n    @keyframes animPartners-${t} {\n      0% { \n        transform: translateX(0);\n        opacity: 1;\n      }\n      95% {\n        opacity: 1;\n      }\n      100% { \n        transform: translateX(${s}%);\n        opacity: 1;\n      }\n    }\n\n    .marquee-${t} {\n      animation: animPartners-${t} 15s linear infinite;\n      animation-fill-mode: both;\n    }\n  `,e.classList.add(`marquee-${t}`),e.style.animation="none",setTimeout((()=>{e.style.animation=""}),10)}function initMarquees(){const e=document.querySelectorAll([".stoke-title .stroke-wrap",".agency-stroke",".longest__body .stroke-wrap",".case-frame .item .item-stroke-wrap",".footer-stroke"].join(", "));let t;e.forEach(((e,t)=>{updateMarqueeAnimation(e,t),e.addEventListener("animationiteration",(function(){this.style.opacity="1"}))})),window.addEventListener("resize",(function(){clearTimeout(t),t=setTimeout((()=>{e.forEach(((e,t)=>updateMarqueeAnimation(e,t)))}),250)}))}function splitLetters(){document.querySelectorAll(".split-light, .split-dark").forEach((e=>{e.querySelectorAll("span").forEach((e=>{const t=e.textContent.split("");e.innerHTML=t.map((e=>`<span class="char">${e}</span>`)).join("")}))}))}window.addEventListener("load",(()=>{const e=()=>{if("undefined"==typeof gsap||"undefined"==typeof ScrollTrigger||void 0===lenis)return console.warn("⏳ Ждем GSAP / ScrollTrigger / Lenis..."),requestAnimationFrame(e);gsap.delayedCall(.3,(()=>{ScrollTrigger.refresh(!0),lenis.scrollTo(0,{immediate:!0}),requestAnimationFrame((()=>{requestAnimationFrame((()=>{initAnchorLinks(),isReady=!0,console.log("✅ Anchor links initialized (GSAP + Lenis ready)")}))}))}))};setTimeout(e,300)})),window.addEventListener("resize",(()=>{"undefined"!=typeof controller&&controller.update(!0),ScrollTrigger.refresh(!0)})),window.addEventListener("hashchange",(()=>{ScrollTrigger.refresh(!0)})),void 0!==lenis&&lenis.on("scroll",(()=>{ScrollTrigger.update()})),$(".services-frame .item").on("click",(function(){handleAccordionClick($(this))})),$(".faq-frame .item").on("click",(function(){handleAccordionClick($(this))})),document.addEventListener("DOMContentLoaded",(function(){setTimeout(initMarquees,500),initMarquees()})),document.addEventListener("DOMContentLoaded",(()=>{splitLetters();let e="#BEBFC3",t="#8F919A";document.querySelectorAll(".split-light, .split-dark").forEach((i=>{const n=i.querySelectorAll(".char");let s=i.classList.contains("split-light")?e:t;gsap.fromTo(n,{color:s},{color:"#fff",ease:"none",stagger:.05,scrollTrigger:{trigger:i,start:"top 80%",end:"bottom 40%",scrub:!0}})}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".item-rotate");if(!e.length)return;window.addEventListener("mousemove",(t=>{const i=window.innerWidth/2,n=15*((t.clientX-i)/i);e.forEach((e=>{gsap.to(e,{rotate:n,duration:.5,ease:"power3.out"})}))})),window.addEventListener("mouseleave",(()=>{e.forEach((e=>{gsap.to(e,{rotate:0,duration:1,ease:"power3.out"})}))}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("pupil"),t=e.closest("svg");if(!e||!t)return;window.addEventListener("mousemove",(i=>{const n=t.getBoundingClientRect(),s=n.left+n.width/2,o=n.top+n.height/2,a=i.clientX-s,r=i.clientY-o,c=Math.atan2(r,a),l=Math.min(8,Math.hypot(a,r)),h=60+Math.cos(c)*l,d=60+Math.sin(c)*l;gsap.to(e,{attr:{cx:h,cy:d},duration:.2,ease:"power2.out"})})),window.addEventListener("mouseleave",(()=>{gsap.to(e,{attr:{cx:60,cy:60},duration:.3,ease:"power2.out"})}))}));class DotCanvas{constructor(e){this.canvas=e,this.ctx=e.getContext("2d"),this.w=this.canvas.width=this.canvas.offsetWidth,this.h=this.canvas.height=this.canvas.offsetHeight,this.spacing=48,this.dots=[],this.initDots(),this.cursor={x:this.w/2,y:this.h/2,tx:this.w/2,ty:this.h/2,vx:0,vy:0,speed:0},this.setupEventListeners(),this.animate()}initDots(){for(let e=this.spacing/2;e<this.h;e+=this.spacing)for(let t=this.spacing/2;t<this.w;t+=this.spacing)this.dots.push({x:t,y:e,r:2,targetR:2,opacity:.5,targetOpacity:.5})}setupEventListeners(){this.handleMouseMove=e=>{const t=this.canvas.getBoundingClientRect();e.clientX>=t.left&&e.clientX<=t.right&&e.clientY>=t.top&&e.clientY<=t.bottom&&(this.cursor.tx=e.clientX-t.left,this.cursor.ty=e.clientY-t.top)},window.addEventListener("mousemove",this.handleMouseMove),this.handleResize=()=>{this.w=this.canvas.width=this.canvas.offsetWidth,this.h=this.canvas.height=this.canvas.offsetHeight,this.dots=[],this.initDots()}}draw(){this.ctx.clearRect(0,0,this.w,this.h);let e=this.cursor.tx-this.cursor.x,t=this.cursor.ty-this.cursor.y;this.cursor.vx+=.2*e,this.cursor.vy+=.2*t,this.cursor.vx*=.7,this.cursor.vy*=.7,this.cursor.x+=this.cursor.vx,this.cursor.y+=this.cursor.vy,this.cursor.speed=Math.sqrt(this.cursor.vx*this.cursor.vx+this.cursor.vy*this.cursor.vy),this.dots.forEach((e=>{const t=Math.hypot(e.x-this.cursor.x,e.y-this.cursor.y);t<120?(e.targetR=1+(120-t)/50,e.targetOpacity=.5):(e.targetR=.5,e.targetOpacity=0),e.r+=.1*(e.targetR-e.r),e.opacity+=.1*(e.targetOpacity-e.opacity),this.ctx.beginPath(),this.ctx.arc(e.x,e.y,e.r,0,2*Math.PI),this.ctx.fillStyle=`rgba(255, 255, 255, ${e.opacity})`,this.ctx.fill()}))}animate(){this.draw(),requestAnimationFrame((()=>this.animate()))}destroy(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize)}}class DotCanvasManager{constructor(){this.canvases=new Map,this.init()}init(){document.querySelectorAll("#dotCanvas, .dotCanvas, canvas[data-dot-canvas]").forEach(((e,t)=>{e.id||(e.id=`dotCanvas-${t}`);const i=new DotCanvas(e);this.canvases.set(e.id,i)}))}getCanvas(e){return this.canvases.get(e)}destroy(){this.canvases.forEach((e=>e.destroy())),this.canvases.clear()}}function addDotCanvas(e){window.dotCanvasManager||(window.dotCanvasManager=new DotCanvasManager);const t=new DotCanvas(e);return window.dotCanvasManager.canvases.set(e.id||`dotCanvas-${Date.now()}`,t),t}document.addEventListener("DOMContentLoaded",(()=>{window.dotCanvasManager=new DotCanvasManager}));const lines=document.querySelectorAll(".line path"),lineAnimations=new Map;function updateLinePath(e,t,i){const n=100,s=500,o=Math.max(0,Math.min(2e3,i)),a=[{x:0,y:n},{x:o-250,y:n},{x:o,y:n+t},{x:o+250,y:n},{x:2e3,y:n}];let r=`M${a[0].x} ${a[0].y}`;r+=` L${a[1].x} ${a[1].y}`,r+=` C${a[1].x+125} ${a[1].y}, \n           ${a[2].x-s/6} ${a[2].y}, \n           ${a[2].x} ${a[2].y}`,r+=` C${a[2].x+s/6} ${a[2].y}, \n           ${a[3].x-125} ${a[3].y}, \n           ${a[3].x} ${a[3].y}`,r+=` L${a[4].x} ${a[4].y}`,e.setAttribute("d",r)}lines.forEach((e=>{lineAnimations.set(e,{depth:0,x:1e3,tween:null})})),document.addEventListener("mousemove",(e=>{lines.forEach((t=>{const i=lineAnimations.get(t),n=t.closest("svg").getBoundingClientRect(),s=n.top+n.height/2,o=Math.abs(e.clientY-s),a=o<80,r=1-Math.pow(o/80,1.5),c=a?Math.max(-80,Math.min(80,(s-e.clientY)*r*2.5)):0,l=2e3/n.width,h=(e.clientX-n.left)*l;i.tween&&i.tween.kill(),i.tween=gsap.to(i,{duration:.4,depth:c,x:h,ease:"power2.out",onUpdate:()=>{updateLinePath(t,i.depth,i.x)}})}))})),document.addEventListener("mouseleave",(()=>{lines.forEach((e=>{const t=lineAnimations.get(e);t.tween&&t.tween.kill(),t.tween=gsap.to(t,{duration:.8,depth:0,x:1e3,ease:"elastic.out(1, 0.4)",onUpdate:()=>{updateLinePath(e,t.depth,t.x)}})}))})),gsap.to(".hero-block .circle-hero",{scale:15,yPercent:-50,xPercent:-70,scrollTrigger:{trigger:".hero-block",start:"top top",end:"+=100%",scrub:1,pin:!0,pinSpacing:!1}});let xcodeItemWidth,xcodeGap,formula,xcodeContainer=document.querySelector(".xcode-cards"),xcodeItems=gsap.utils.toArray(".xcode-cards .item");function updateXcodeMetrics(){xcodeItemWidth=xcodeItems[0].offsetWidth,xcodeGap=parseFloat(getComputedStyle(xcodeContainer).gap)||0,formula=(xcodeItemWidth+xcodeGap)*(xcodeItems.length-1)}updateXcodeMetrics();const tl=gsap.timeline({scrollTrigger:{trigger:".xcode",start:"top+=40%",end:()=>`+=${formula}`,pin:!0,scrub:1,onUpdate:e=>{const t=e.progress;setActive(Math.min(xcodeItems.length-1,Math.floor(t*xcodeItems.length)))}}});function setActive(e){xcodeContainer.dataset.activeIndex&&xcodeContainer.dataset.activeIndex==e||(xcodeItems.forEach((e=>e.classList.remove("active"))),xcodeItems[e].classList.add("active"),xcodeContainer.dataset.activeIndex=e)}tl.to(".xcode-cards",{x:-formula,ease:"none"}),window.addEventListener("resize",(()=>{updateXcodeMetrics(),ScrollTrigger.refresh()})),gsap.to(".guarantees-circle",{yPercent:-60,scale:16,ease:"power1.inOut",rotate:90,scrollTrigger:{trigger:".guarantees",start:"+=45%",end:"+=200%",scrub:1,pin:!0,pinSpacing:!1}}),gsap.to(".implementation .circle-hero",{scale:15,yPercent:-50,xPercent:-70,scrollTrigger:{trigger:".implementation",start:"top top",end:"+=75%",scrub:1,pin:!0,pinSpacing:!1}}),gsap.set(".feedback-form, .guarantees-section",{yPercent:-85,scale:.3,xPercent:-35}),gsap.to(".guarantees-section",{yPercent:0,xPercent:0,scale:1,ease:"power1.inOut",scrollTrigger:{trigger:".guarantees__wrap",start:"top center",end:"+=70%",scrub:!0}}),gsap.to(".feedback-form",{yPercent:0,xPercent:0,scale:1,ease:"power1.inOut",scrollTrigger:{trigger:".feedback-wrap",start:"top center",end:"+=70%",scrub:1}});class AgencyTrail{constructor(e){this.agency=e,this.animationContainer=this.agency.querySelector(".wrap-agency-animation"),this.animationContainer?(this.isValid=!0,this.content=this.animationContainer.querySelector(".content"),this.content||(this.content=this.agency.querySelector(".content")),this.images=Array.from(this.content.querySelectorAll(".content__img")),this.imgInners=Array.from(this.content.querySelectorAll(".content__img-inner")),this.mouse={x:0,y:0},this.lastMouse={x:0,y:0},this.cacheMouse={x:0,y:0},this.zIndex=1,this.activeIndex=0,this.activeImagesCount=0,this.isIdle=!0,this.isPaused=!1,this.activationDistance=80,this.animationRect=this.animationContainer.getBoundingClientRect(),this.activeAnimations=new Map,this.hideAnimation=null,this.init()):this.isValid=!1}init(){this.isValid&&(this.hideAllImages(),this.setupEventListeners(),this.startTracking())}setupEventListeners(){this.isValid&&(this.animationContainer.addEventListener("mousemove",(e=>{this.updateAnimationRect(),this.mouse.x=e.clientX-this.animationRect.left,this.mouse.y=e.clientY-this.animationRect.top})),this.animationContainer.addEventListener("mouseenter",(e=>{this.isPaused=!1,this.updateAnimationRect(),this.mouse.x=e.clientX-this.animationRect.left,this.mouse.y=e.clientY-this.animationRect.top,this.cacheMouse.x=this.mouse.x,this.cacheMouse.y=this.mouse.y,this.lastMouse.x=this.mouse.x,this.lastMouse.y=this.mouse.y,this.hideAnimation&&(this.hideAnimation.kill(),this.hideAnimation=null)})),this.animationContainer.addEventListener("mouseleave",(e=>{this.isCursorInAnimationContainer(e)||(this.isPaused=!0,this.hideAllImagesSmoothly())})),document.addEventListener("mousemove",(e=>{this.isPaused&&this.isCursorInAnimationContainer(e)&&(this.isPaused=!1,this.hideAnimation&&(this.hideAnimation.kill(),this.hideAnimation=null),this.updateAnimationRect(),this.mouse.x=e.clientX-this.animationRect.left,this.mouse.y=e.clientY-this.animationRect.top,this.cacheMouse.x=this.mouse.x,this.cacheMouse.y=this.mouse.y,this.lastMouse.x=this.mouse.x,this.lastMouse.y=this.mouse.y)})),window.addEventListener("resize",(()=>{this.updateAnimationRect()})))}isCursorInAnimationContainer(e){const t=this.animationContainer.getBoundingClientRect();return e.clientX>=t.left-2&&e.clientX<=t.right+2&&e.clientY>=t.top-2&&e.clientY<=t.bottom+2}updateAnimationRect(){this.animationRect=this.animationContainer.getBoundingClientRect()}startTracking(){this.isValid&&gsap.ticker.add((()=>{this.isPaused||(this.cacheMouse.x=this.lerp(this.cacheMouse.x,this.mouse.x,.1),this.cacheMouse.y=this.lerp(this.cacheMouse.y,this.mouse.y,.1),this.checkDistanceAndSpawn())}))}lerp(e,t,i){return e+(t-e)*i}getDistance(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}checkDistanceAndSpawn(){this.getDistance(this.lastMouse,this.mouse)>this.activationDistance&&(this.spawnImage(),this.lastMouse={...this.mouse}),this.isIdle&&1!==this.zIndex&&(this.zIndex=1)}spawnImage(){if(this.isPaused||!this.isValid)return;this.activeImagesCount++,this.isIdle=!1,this.zIndex++,this.activeIndex=this.activeIndex<this.images.length-1?this.activeIndex+1:0;const e=this.images[this.activeIndex],t=this.imgInners[this.activeIndex];this.activeAnimations.has(e)&&this.activeAnimations.get(e).kill();const i=e.getBoundingClientRect();gsap.set(e,{x:this.mouse.x-i.width/2,y:this.mouse.y-i.height/2,scale:0,opacity:1,zIndex:this.zIndex}),gsap.set(t,{scale:2.8,filter:"brightness(150%)"});const n=gsap.timeline({onStart:()=>this.onImageActivate(),onComplete:()=>{this.onImageComplete(),this.activeAnimations.delete(e)}});this.activeAnimations.set(e,n),n.to(e,{duration:.4,ease:"power1.out",scale:1},0).to(t,{duration:.6,ease:"power1.out",scale:1,filter:"brightness(100%)"},0).to(e,{duration:.4,ease:"power2.in",opacity:0,scale:.2},.45)}hideAllImages(){this.isValid&&(this.images.forEach((e=>{gsap.set(e,{opacity:0,scale:.2})})),this.activeAnimations.forEach(((e,t)=>{e.kill()})),this.activeAnimations.clear(),this.hideAnimation&&(this.hideAnimation.kill(),this.hideAnimation=null),this.activeImagesCount=0,this.isIdle=!0,this.zIndex=1)}hideAllImagesSmoothly(){if(!this.isValid)return;this.activeAnimations.forEach(((e,t)=>{e.kill()})),this.activeAnimations.clear(),this.hideAnimation&&this.hideAnimation.kill();const e=this.images.filter((e=>gsap.getProperty(e,"opacity")>0));if(0===e.length)return this.activeImagesCount=0,void(this.isIdle=!0);this.hideAnimation=gsap.timeline({onComplete:()=>{this.activeImagesCount=0,this.isIdle=!0,this.zIndex=1,this.hideAnimation=null}}),e.forEach((e=>{const t=gsap.getProperty(e,"scale");gsap.getProperty(e,"opacity");this.hideAnimation.to(e,{duration:.3,ease:"power2.out",opacity:0,scale:.5*t,overwrite:!0},0)}))}onImageActivate(){this.activeImagesCount++}onImageComplete(){this.activeImagesCount--,0===this.activeImagesCount&&(this.isIdle=!0)}}class AgencyTrailManager{constructor(){this.agencyTrails=[],this.init()}init(){document.querySelectorAll(".agency").forEach((e=>{if(e.querySelector(".wrap-agency-animation")){const t=new AgencyTrail(e);t.isValid&&this.agencyTrails.push(t)}}))}}function autoResize(e){e.style.height="auto",e.style.height=e.scrollHeight+"px",updateScrollDelayed()}document.addEventListener("DOMContentLoaded",(()=>{new AgencyTrailManager})),gsap.to(".hero-block .stoke-title",{opacity:0,scrollTrigger:{trigger:".hero-block__body",start:"top top",end:"+=10%",scrub:1}}),gsap.to(".implementation .stoke-title",{opacity:0,scrollTrigger:{trigger:".implementation__body",start:"top top",end:"+=10%",scrub:1}});const textarea=document.querySelector("textarea");autoResize(textarea),textarea.addEventListener("input",(()=>autoResize(textarea))),document.querySelector(".ancor-form").addEventListener("click",(function(){gsap.to(window,{duration:1,ease:"power1.inOut",scrollTo:{y:"#feedback-form",offsetY:-500}})})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".file-wrap"),t=e.querySelector('input[type="file"]'),i=e.querySelector(".clear-file"),n=e.querySelector(".file-name");t.addEventListener("change",(function(){this.files&&this.files.length>0?(e.classList.add("has-file"),n.textContent=this.files[0].name):(e.classList.remove("has-file"),n.textContent="Прикрепить файл")})),i.addEventListener("click",(function(i){i.preventDefault(),i.stopPropagation(),t.value="",e.classList.remove("has-file"),n.textContent="Прикрепить файл"}))})),$(".wrap-answer .item").on("click",(function(e){let t=$(this).text();$("#custom-select").val(t)}));let col=0;function isElementInViewport(e){const t=e.getBoundingClientRect();return t.top<=.6*window.innerHeight&&t.bottom>=.4*window.innerHeight}function updateActiveNav(){const e=document.querySelectorAll("section[id]"),t=document.querySelectorAll(".navbar .ancor-item"),i=document.querySelector(".home-btn");if(window.scrollY<50)return t.forEach((e=>e.parentElement.classList.remove("current"))),void(i&&i.parentElement.classList.add("current"));let n=!1;for(let s=e.length-1;s>=0;s--){const o=e[s];if(isElementInViewport(o)){const e=o.getAttribute("id"),s=document.querySelector(`.navbar .ancor-item[href="#${e}"]`);t.forEach((e=>e.parentElement.classList.remove("current"))),s&&(s.parentElement.classList.add("current"),i.parentElement.classList.remove("current"),n=!0);break}}n||t.forEach((e=>e.parentElement.classList.remove("current")))}$(".form-action button").on("click",(function(e){document.querySelectorAll(".input-wrap input, .input-wrap textarea").forEach(((e,t)=>{""===e.value?(e.classList.add("error"),e.classList.remove("has-val")):(col++,e.classList.remove("error"),e.classList.add("has-val"))})),5==col&&($(".feedback-form-main").remove(),$(".form-send").fadeIn(300),$(".form-default").remove())})),document.addEventListener("DOMContentLoaded",(function(){updateActiveNav()})),void 0!==lenis&&lenis.on("scroll",updateActiveNav),window.addEventListener("resize",updateActiveNav);